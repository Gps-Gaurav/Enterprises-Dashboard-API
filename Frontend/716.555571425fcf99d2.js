(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[716],{1716:(Y,U,d)=>{"use strict";d.r(U),d.d(U,{MaterialComponentsModule:()=>fa});var b=d(1735),y=d(520),T=d(9808),A=d(2987),m=d(3075),k=d(1620),t=d(5e3),_=d(8966),l=d(3086),p=d(2340);let g=(()=>{class a{constructor(e){this.httpClient=e,this.url=p.N.apiUrl}add(e){return this.httpClient.post(this.url+"/category/add/",e,{headers:(new y.WM).set("Content-Type","application/json")})}update(e){return this.httpClient.patch(this.url+"/category/update/",e,{headers:(new y.WM).set("Content-Type","application/json")})}getCategory(){return this.httpClient.get(this.url+"/category/get")}delete(e){return this.httpClient.delete(this.url+"/category/delete/"+e,{headers:(new y.WM).set("Content-Type","application/json")})}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(y.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var v=d(8441),u=d(5832),C=d(4594),w=d(277),h=d(7322),Z=d(7531),x=d(7423);function O(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function S(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function L(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,0,"span",8),t.YNc(2,S,2,0,"span",8),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.categoryForm.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",e.categoryForm.controls.name.errors.pattern)}}let B=(()=>{class a{constructor(e,o,r,i,c,f){this.dialogData=e,this.formBuilder=o,this.categoryServices=r,this.ngxServices=i,this.dialogRef=c,this.snackbarServices=f,this.onAddCategory=new t.vpe,this.onEditCategory=new t.vpe,this.categoryForm=m.cw,this.dialogAction="Add",this.action="Add"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[m.kI.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="update",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){this.categoryServices.add({name:this.categoryForm.value.name}).subscribe(r=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=r.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},r=>{var i,c;this.ngxServices.stop(),this.responseMessage=(null===(i=r.error)||void 0===i?void 0:i.message)?null===(c=r.error)||void 0===c?void 0:c.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}edit(){this.categoryServices.update({id:this.dialogData.data.id,name:this.categoryForm.value.name}).subscribe(r=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=r.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},r=>{var i,c;this.ngxServices.stop(),this.responseMessage=(null===(i=r.error)||void 0===i?void 0:i.message)?null===(c=r.error)||void 0===c?void 0:c.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(_.WI),t.Y36(m.qu),t.Y36(g),t.Y36(v.LA),t.Y36(_.so),t.Y36(u.o))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-category"]],decls:17,vars:5,consts:[["color","primary"],["fxlayout","row"],[1,"tille-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","colour","primary","mat-dialog-close",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3),t.qZA()()(),t.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"name"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,L,3,2,"mat-error",8),t.qZA()()()(),t.TgZ(12,"mat-dialog-actions",9)(13,"button",10),t.NdJ("click",function(){return o.handleSubmit()}),t._uU(14),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Close"),t.qZA()()),2&e&&(t.xp6(3),t.hij("",o.dialogData.action," Category"),t.xp6(2),t.Q6J("formGroup",o.categoryForm),t.xp6(6),t.Q6J("ngIf",o.categoryForm.controls.name.touched&&o.categoryForm.controls.name.invalid),t.xp6(2),t.Q6J("disabled",!(o.categoryForm.valid&&o.categoryForm.dirty)),t.xp6(1),t.Oqu(o.action))},directives:[C.Ye,C.rD,_.xY,m._Y,m.JL,m.sg,w.yH,w.xw,h.KE,h.hX,Z.Nt,m.Fj,m.JJ,m.u,m.Q7,T.O5,h.TO,_.H8,x.lW,_.ZT],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),a})();var s=d(8279),F=d(8526),M=d(9224),N=d(7238),D=d(5245);function j(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Name"),t.qZA())}function X(a,n){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function G(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Action"),t.qZA())}function z(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",15)(1,"button",16),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleEditAction(i)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",17),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleDeleteAction(i)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function W(a,n){1&a&&t._UZ(0,"tr",18)}function K(a,n){1&a&&t._UZ(0,"tr",19)}let tt=(()=>{class a{constructor(e,o,r,i,c){this.categoryServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name","edit"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.categoryServices.getCategory().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}handleAddAction(){const e=new _.vA;e.data={action:"Add"},e.width="850px";const o=this.dialog.open(B,e);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddCategory.subscribe(i=>{this.tableData()})}handleEditAction(e){const o=new _.vA;o.data={action:"Edit",data:e},o.width="850px";const r=this.dialog.open(B,o);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditCategory.subscribe(c=>{this.tableData()})}handleDeleteAction(e){const o=new _.vA;o.data={message:"delete"+e.name+"product"};const r=this.dialog.open(F.S,o);r.componentInstance.onEmitStatuschange.subscribe(c=>{this.ngxServices.start(),this.deleteProduct(e.id),r.close()})}deleteProduct(e){this.categoryServices.delete(e).subscribe(o=>{this.ngxServices.stop(),this.tableData(),this.responseMessage=null==o?void 0:o.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},o=>{var r,i;this.ngxServices.stop(),this.responseMessage=(null===(r=o.error)||void 0===r?void 0:r.message)?null===(i=o.error)||void 0===i?void 0:i.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-category"]],decls:24,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Category"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return o.handleAddAction()}),t._uU(5,"Add Category"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"mat-form-field",1)(9,"mat-label"),t._uU(10,"Filter"),t.qZA(),t.TgZ(11,"input",2,3),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(13,"hr"),t.TgZ(14,"div",4)(15,"table",5),t.ynx(16,6),t.YNc(17,j,2,0,"th",7),t.YNc(18,X,2,1,"td",8),t.BQk(),t.ynx(19,9),t.YNc(20,G,2,0,"th",7),t.YNc(21,z,7,0,"td",10),t.BQk(),t.YNc(22,W,1,0,"tr",11),t.YNc(23,K,1,0,"tr",12),t.qZA()()),2&e&&(t.xp6(15),t.Q6J("dataSource",o.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,x.lW,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,N.gM,D.Hw,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})();var q=d(9325),R=d(7221);let P=(()=>{class a{constructor(e){this.httpClient=e,this.url=p.N.apiUrl}add(e){return this.httpClient.post(this.url+"/product/add/",e,{headers:(new y.WM).set("Content-Type","application/json")})}getByName(e){return this.httpClient.get(this.url+"/product/getByName/"+e,{headers:(new y.WM).set("Content-Type","application/json")})}update(e){return this.httpClient.patch(this.url+"/product/update/",e,{headers:(new y.WM).set("Content-Type","application/json")})}getProducts(){return this.httpClient.get(this.url+"/product/get")}updateStatus(e){return this.httpClient.patch(this.url+"/product/updateStatus/",e,{headers:(new y.WM).set("Content-Type","application/json")})}delete(e){return this.httpClient.delete(this.url+"/product/delete/"+e,{headers:(new y.WM).set("Content-Type","application/json")})}getProductByCategory(e){return this.httpClient.get(`${this.url}/product/getByCategory/${e}`)}getById(e){if(!e)throw new Error("Product ID is required");return this.httpClient.get(`${this.url}/product/getById/${e}`).pipe((0,R.K)(o=>{throw console.error("Product service error:",o),o}))}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(y.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var I=d(4107),J=d(508);function et(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function at(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function ot(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,et,2,0,"span",9),t.YNc(2,at,2,0,"span",9),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.name.errors.pattern)}}function nt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function rt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function it(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,nt,2,0,"span",9),t.YNc(2,rt,2,0,"span",9),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.price.errors.required),t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.price.errors.pattern)}}function st(a,n){if(1&a&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function ct(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function lt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function mt(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,ct,2,0,"span",9),t.YNc(2,lt,2,0,"span",9),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.description.errors.required),t.xp6(1),t.Q6J("ngIf",e.ProductForm.controls.description.errors.pattern)}}let E=(()=>{class a{constructor(e,o,r,i,c,f,Q){this.dialogData=e,this.formBuilder=o,this.productServices=r,this.categoryServices=i,this.ngxServices=c,this.dialogRef=f,this.snackbarServices=Q,this.onAddProduct=new t.vpe,this.onEditProduct=new t.vpe,this.ProductForm=m.cw,this.dialogAction="Add",this.action="Add",this.categorys=[]}ngOnInit(){this.ProductForm=this.formBuilder.group({name:[null,[m.kI.required],m.kI.pattern(l.t.nameRegex)],categoryId:[null,[m.kI.required]],price:[null,[m.kI.required]],description:[null,[m.kI.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="update",this.ProductForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys(){this.categoryServices.getCategory().subscribe(e=>{this.categorys=e},e=>{var o,r;this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){var e=this.ProductForm.value;this.productServices.add({name:e.name,categoryId:e.categoryId,price:e.price,description:e.description}).subscribe(r=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=r.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},r=>{var i,c;this.ngxServices.stop(),this.responseMessage=(null===(i=r.error)||void 0===i?void 0:i.message)?null===(c=r.error)||void 0===c?void 0:c.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}edit(){var e=this.ProductForm.value;this.productServices.update({id:this.dialogData.data.id,name:e.name,categoryId:e.categoryId,price:e.price,description:e.description}).subscribe(r=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=r.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},r=>{var i,c;this.ngxServices.stop(),this.responseMessage=(null===(i=r.error)||void 0===i?void 0:i.message)?null===(c=r.error)||void 0===c?void 0:c.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(_.WI),t.Y36(m.qu),t.Y36(P),t.Y36(g),t.Y36(v.LA),t.Y36(_.so),t.Y36(u.o))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-product"]],decls:35,vars:7,consts:[["color","primary"],["fxlayout","row"],[1,"tille-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","price","required",""],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","required",""],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","colour","primary","mat-dialog-close",""],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3),t.qZA()()(),t.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"name"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,ot,3,2,"mat-error",9),t.qZA()(),t.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Price"),t.qZA(),t._UZ(17,"input",10),t.YNc(18,it,3,2,"mat-error",9),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Category"),t.qZA(),t.TgZ(22,"mat-select",11),t.YNc(23,st,2,2,"mat-option",12),t.qZA()()(),t.TgZ(24,"div",6)(25,"mat-form-field",7)(26,"mat-label"),t._uU(27,"Description "),t.qZA(),t._UZ(28,"input",13),t.YNc(29,mt,3,2,"mat-error",9),t.qZA()()()()(),t.TgZ(30,"mat-dialog-actions",14)(31,"button",15),t.NdJ("click",function(){return o.handleSubmit()}),t._uU(32),t.qZA(),t.TgZ(33,"button",16),t._uU(34,"Close"),t.qZA()()),2&e&&(t.xp6(3),t.hij("",o.dialogData.action," Product"),t.xp6(2),t.Q6J("formGroup",o.ProductForm),t.xp6(7),t.Q6J("ngIf",o.ProductForm.controls.name.touched&&o.ProductForm.controls.name.invalid),t.xp6(6),t.Q6J("ngIf",o.ProductForm.controls.price.touched&&o.ProductForm.controls.price.invalid),t.xp6(5),t.Q6J("ngForOf",o.categorys),t.xp6(6),t.Q6J("ngIf",o.ProductForm.controls.description.touched&&o.ProductForm.controls.description.invalid),t.xp6(3),t.Oqu(o.action))},directives:[C.Ye,C.rD,_.xY,m._Y,m.JL,m.sg,w.yH,w.xw,h.KE,h.hX,Z.Nt,m.Fj,m.JJ,m.u,m.Q7,T.O5,h.TO,I.gD,T.sg,J.ey,_.H8,x.lW,_.ZT],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),a})();var V=d(2368);function dt(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function ut(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function pt(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Category Name"),t.qZA())}function gt(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.categoryName)}}function _t(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Description"),t.qZA())}function ht(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.description)}}function ft(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Price"),t.qZA())}function vt(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function Ct(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function yt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleEditAction(i)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleDeleteAction(i)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"mat-slide-toggle",21),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().onChange(r.checked,c.id)}),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(7),t.Q6J("checked",e.status)}}function Zt(a,n){1&a&&t._UZ(0,"tr",22)}function bt(a,n){1&a&&t._UZ(0,"tr",23)}let Tt=(()=>{class a{constructor(e,o,r,i,c){this.productServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name","categoryName","description","price","edit"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.productServices.getProducts().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}handleAddAction(){const e=new _.vA;e.data={action:"Add"},e.width="850px";const o=this.dialog.open(E,e);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddProduct.subscribe(i=>{this.tableData()})}handleEditAction(e){const o=new _.vA;o.data={action:"Edit",data:e},o.width="850px";const r=this.dialog.open(E,o);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditProduct.subscribe(c=>{this.tableData()})}handleDeleteAction(e){const o=new _.vA;o.data={message:"delete"+e.name+"product"};const r=this.dialog.open(F.S,o);r.componentInstance.onEmitStatuschange.subscribe(c=>{this.ngxServices.start(),this.deleteProduct(e.id),r.close()})}deleteProduct(e){this.productServices.delete(e).subscribe(o=>{this.ngxServices.stop(),this.tableData(),this.responseMessage=null==o?void 0:o.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},o=>{var r,i;this.ngxServices.stop(),this.responseMessage=(null===(r=o.error)||void 0===r?void 0:r.message)?null===(i=o.error)||void 0===i?void 0:i.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}onChange(e,o){var r={status:e.toString(),id:o};this.productServices.updateStatus(r).subscribe(i=>{this.ngxServices.stop(),this.responseMessage=null==i?void 0:i.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},i=>{var c,f;this.ngxServices.stop(),this.responseMessage=(null===(c=i.error)||void 0===c?void 0:c.message)?null===(f=i.error)||void 0===f?void 0:f.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(P),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-product"]],decls:33,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activate or Deactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Product"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return o.handleAddAction()}),t._uU(5,"Add Product"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"mat-form-field",1)(9,"mat-label"),t._uU(10,"Filter"),t.qZA(),t.TgZ(11,"input",2,3),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(13,"hr"),t.TgZ(14,"div",4)(15,"table",5),t.ynx(16,6),t.YNc(17,dt,2,0,"th",7),t.YNc(18,ut,2,1,"td",8),t.BQk(),t.ynx(19,9),t.YNc(20,pt,2,0,"th",7),t.YNc(21,gt,2,1,"td",8),t.BQk(),t.ynx(22,10),t.YNc(23,_t,2,0,"th",7),t.YNc(24,ht,2,1,"td",8),t.BQk(),t.ynx(25,11),t.YNc(26,ft,2,0,"th",7),t.YNc(27,vt,2,1,"td",8),t.BQk(),t.ynx(28,12),t.YNc(29,Ct,2,0,"th",7),t.YNc(30,yt,8,1,"td",13),t.BQk(),t.YNc(31,Zt,1,0,"tr",14),t.YNc(32,bt,1,0,"tr",15),t.qZA()()),2&e&&(t.xp6(15),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,x.lW,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,N.gM,D.Hw,V.Rr,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})();var H=d(9441),xt=d(1737),wt=d(4850);let $=(()=>{class a{constructor(e){this.httpClient=e,this.url=p.N.apiUrl,this.headers=(new y.WM).set("Content-Type","application/json")}generateReport(e){return this.httpClient.post(`${this.url}/bill/generateReport`,e).pipe((0,R.K)(this.handleError))}getPdf(e){return this.httpClient.post(`${this.url}/bill/getPdf`,e,{responseType:"blob"})}handleError(e){var o;let r="An unknown error occurred!";return r=e.error instanceof ErrorEvent?e.error.message:(null===(o=e.error)||void 0===o?void 0:o.message)||"Server error",console.error("Error:",e),(0,xt._)(()=>r)}getBills(){return this.httpClient.get(`${this.url}/bill/getBills`).pipe((0,wt.U)(e=>Array.isArray(e)?e.map(o=>Object.assign(Object.assign({},o),{productDetails:this.parseProductDetails(o.productDetails)})):e))}parseProductDetails(e){try{return"string"==typeof e?JSON.parse(e):Array.isArray(e)?e:[]}catch(o){return console.error("Error parsing product details:",o),[]}}delete(e){return this.httpClient.delete(this.url+"/bill/delete/"+e,{headers:this.headers})}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(y.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function At(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function St(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Mt(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,At,2,0,"span",6),t.YNc(2,St,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=e.manageOrderForm.get("name"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(r=e.manageOrderForm.get("name"))||null==r.errors?null:r.errors.pattern)}}function qt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function kt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Ot(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,qt,2,0,"span",6),t.YNc(2,kt,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=e.manageOrderForm.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(r=e.manageOrderForm.get("email"))||null==r.errors?null:r.errors.pattern)}}function Nt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function Dt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Ut(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Nt,2,0,"span",6),t.YNc(2,Dt,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=e.manageOrderForm.get("contactNumber"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(r=e.manageOrderForm.get("contactNumber"))||null==r.errors?null:r.errors.pattern)}}function Pt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"Please select a payment method."),t.qZA())}function Yt(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Pt,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.manageOrderForm.get("paymentMethod"))||null==o.errors?null:o.errors.required)}}function Ft(a,n){if(1&a&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.name)}}function Qt(a,n){if(1&a&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.name)}}function Bt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function Rt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function It(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Bt,2,0,"span",6),t.YNc(2,Rt,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.price.errors.required),t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.price.errors.pattern)}}function Jt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function Et(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function Vt(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Jt,2,0,"span",6),t.YNc(2,Et,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.quantity.errors.required),t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.quantity.errors.pattern)}}function Ht(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory. "),t.qZA())}function $t(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid. "),t.qZA())}function Lt(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Ht,2,0,"span",6),t.YNc(2,$t,2,0,"span",6),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.total.errors.required),t.xp6(1),t.Q6J("ngIf",e.manageOrderForm.controls.total.errors.pattern)}}function jt(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Name"),t.qZA())}function Xt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function Gt(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Category"),t.qZA())}function zt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.category)}}function Wt(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Price"),t.qZA())}function Kt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function te(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Quantity"),t.qZA())}function ee(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.quantity)}}function ae(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Total"),t.qZA())}function oe(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.total)}}function ne(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Delete"),t.qZA())}function re(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",39)(1,"button",40),t.NdJ("click",function(){const r=t.CHM(e),i=r.index,c=r.$implicit;return t.oxw().handleDeleteAction(i,c)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function ie(a,n){1&a&&t._UZ(0,"tr",41)}function se(a,n){1&a&&t._UZ(0,"tr",42)}let ce=(()=>{class a{constructor(e,o,r,i,c,f,Q,va){this.formBuilder=e,this.productServices=o,this.categoryService=r,this.billService=i,this.ngxServices=c,this.dialog=f,this.snackbarServices=Q,this.router=va,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=m.cw,this.categorys=[],this.products=[],this.totalAmount=0}ngOnInit(){this.ngxServices.start(),this.getCategory(),this.manageOrderForm=this.formBuilder.group({name:[null,[m.kI.required,m.kI.pattern(l.t.nameRegex)]],email:[null,[m.kI.required,m.kI.pattern(l.t.emailRegex)]],contactNumber:[null,[m.kI.required,m.kI.pattern(l.t.contactNumberRegex)]],paymentMethod:[null,[m.kI.required]],product:[null,[m.kI.required]],category:[null,[m.kI.required]],quantity:[null,[m.kI.required]],price:[null,[m.kI.required]],total:[0,[m.kI.required]]}),this.manageOrderForm.get("category").valueChanges.subscribe(e=>{e&&this.getProductByCategory(e)}),this.manageOrderForm.get("product").valueChanges.subscribe(e=>{e&&this.getProductDetails(e)})}getCategory(){this.categoryService.getCategory().subscribe(e=>{this.ngxServices.stop(),this.categorys=e},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}getProductByCategory(e){this.ngxServices.start(),this.productServices.getProductByCategory(e.id).subscribe({next:o=>{this.products=o,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue(0),this.ngxServices.stop()},error:o=>{var r;this.ngxServices.stop(),this.responseMessage=(null===(r=o.error)||void 0===r?void 0:r.message)||l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)}})}getProductDetails(e){e&&e.id?(this.ngxServices.start(),this.productServices.getById(e.id).subscribe({next:o=>{if(!o||"number"!=typeof o.price)throw new Error("Invalid product data received");this.price=o.price,this.manageOrderForm.patchValue({price:o.price,quantity:"1",total:1*o.price}),this.ngxServices.stop()},error:o=>{var r;console.error("Error fetching product details:",o),this.ngxServices.stop(),this.responseMessage=(null===(r=o.error)||void 0===r?void 0:r.message)||l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error),this.manageOrderForm.patchValue({price:null,quantity:null,total:0})},complete:()=>{this.ngxServices.stop()}})):this.snackbarServices.openSnackbar("Invalid product selection",l.t.error)}serQuantity(e){var o=this.manageOrderForm.controls.quantity.value;o>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):""!=o&&(this.manageOrderForm.controls.quantity.setValue(1),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validateProductAdd(){return 0===this.manageOrderForm.controls.total.value||null===this.manageOrderForm.controls.total.value||this.manageOrderForm.controls.quantity.value<=0}add(){var e=this.manageOrderForm.value;void 0===this.dataSource.find(r=>r.id==e.product.id)?(this.totalAmount=this.totalAmount+e.total,this.dataSource.push({id:e.product.id,name:e.product.name,category:e.category.name,quantity:e.quantity,price:e.price,total:e.total}),this.dataSource=[...this.dataSource],this.snackbarServices.openSnackbar(l.t.productAdded,"success")):this.snackbarServices.openSnackbar(l.t.productExistError,l.t.error)}handleDeleteAction(e,o){this.totalAmount=this.totalAmount-o.total,this.dataSource.splice(e,1),this.dataSource=[...this.dataSource]}submitAction(){if(this.validateSubmit())return void this.snackbarServices.openSnackbar("Please fill all required fields",l.t.error);this.ngxServices.start();const e=this.manageOrderForm.value;this.billService.generateReport({name:e.name,email:e.email,contactNumber:e.contactNumber,paymentMethod:e.paymentMethod,totalAmount:this.totalAmount,productDetails:this.dataSource}).subscribe({next:r=>{(null==r?void 0:r.uuid)&&(this.downloadFile(r.uuid),this.resetForm(),this.snackbarServices.openSnackbar("Order placed successfully","success"))},error:r=>{var i;console.error("Order submission error:",r),this.ngxServices.stop();const c=(null===(i=r.error)||void 0===i?void 0:i.message)||l.t.genericError;this.snackbarServices.openSnackbar(c,l.t.error)},complete:()=>{this.ngxServices.stop()}})}resetForm(){this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0,this.manageOrderForm.patchValue({name:null,email:null,contactNumber:null,paymentMethod:null,product:null,category:null,quantity:null,price:null,total:0})}validateSubmit(){return!this.manageOrderForm||["name","email","contactNumber","paymentMethod"].some(r=>{const i=this.manageOrderForm.get(r);return!i||!i.value||i.invalid})||this.totalAmount<=0}downloadFile(e){this.billService.getPdf({uuid:e}).subscribe(r=>{(0,H.saveAs)(r,e+".pdf"),this.ngxServices.stop()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.qu),t.Y36(P),t.Y36(g),t.Y36($),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-order"]],decls:103,vars:19,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","contactNumber","required",""],["formControlName","paymentMethod","required",""],["value","Cash"],["value","Debit Card"],["value","Credit Card"],["fxLayout","row-wrap"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","required",""],["matInput","","formControlName","quantity","required","",3,"keyup"],["input",""],["matInput","","formControlName","total","required","","readonly",""],["mat-flat-button","","color","primary","type","button",3,"disabled","click"],["color","primary","type","button",1,"m-4"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Order"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return o.submitAction()}),t._uU(5," Submit & Get Bill\n"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"b")(9,"span"),t._uU(10,"Customer Details"),t.qZA()(),t.TgZ(11,"form",1)(12,"div",2)(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",5),t.YNc(18,Mt,3,2,"mat-error",6),t.qZA(),t.TgZ(19,"mat-form-field",4)(20,"mat-label"),t._uU(21,"Email"),t.qZA(),t._UZ(22,"input",7),t.YNc(23,Ot,3,2,"mat-error",6),t.qZA(),t.TgZ(24,"mat-form-field",4)(25,"mat-label"),t._uU(26,"Contact Number"),t.qZA(),t._UZ(27,"input",8),t.YNc(28,Ut,3,2,"mat-error",6),t.qZA(),t.TgZ(29,"mat-form-field",4)(30,"mat-label"),t._uU(31,"Payment Method"),t.qZA(),t.TgZ(32,"mat-select",9)(33,"mat-option",10),t._uU(34,"Cash"),t.qZA(),t.TgZ(35,"mat-option",11),t._uU(36,"Debit Card"),t.qZA(),t.TgZ(37,"mat-option",12),t._uU(38,"Credit Card"),t.qZA()(),t.YNc(39,Yt,2,1,"mat-error",6),t.qZA()()()()(),t._UZ(40,"hr"),t.TgZ(41,"mat-card")(42,"b")(43,"span"),t._uU(44,"Select Product "),t.qZA()(),t.TgZ(45,"form",1)(46,"div",2)(47,"div",13)(48,"mat-form-field",4)(49,"mat-label"),t._uU(50,"Category"),t.qZA(),t.TgZ(51,"mat-select",14),t.NdJ("selectionChange",function(i){return o.getProductByCategory(i.value)}),t.YNc(52,Ft,2,2,"mat-option",15),t.qZA()(),t.TgZ(53,"mat-form-field",4)(54,"mat-label"),t._uU(55,"Product"),t.qZA(),t.TgZ(56,"mat-select",16),t.NdJ("selectionChange",function(i){return o.getProductDetails(i.value)}),t.YNc(57,Qt,2,2,"mat-option",15),t.qZA()(),t.TgZ(58,"mat-form-field",4)(59,"mat-label"),t._uU(60,"Price"),t.qZA(),t._UZ(61,"input",17),t.YNc(62,It,3,2,"mat-error",6),t.qZA(),t.TgZ(63,"mat-form-field",4)(64,"mat-label"),t._uU(65,"Quantity"),t.qZA(),t.TgZ(66,"input",18,19),t.NdJ("keyup",function(i){return o.serQuantity(i)}),t.qZA(),t.YNc(68,Vt,3,2,"mat-error",6),t.qZA(),t.TgZ(69,"mat-form-field",4)(70,"mat-label"),t._uU(71,"Total"),t.qZA(),t._UZ(72,"input",20),t.YNc(73,Lt,3,2,"mat-error",6),t.qZA()()()(),t.TgZ(74,"div")(75,"button",21),t.NdJ("click",function(){return o.add()}),t._uU(76," Add "),t.qZA()()(),t._UZ(77,"hr"),t.TgZ(78,"div",22),t._uU(79),t.qZA(),t.TgZ(80,"div",23)(81,"table",24),t.ynx(82,25),t.YNc(83,jt,2,0,"th",26),t.YNc(84,Xt,2,1,"td",27),t.BQk(),t.ynx(85,28),t.YNc(86,Gt,2,0,"th",26),t.YNc(87,zt,2,1,"td",27),t.BQk(),t.ynx(88,29),t.YNc(89,Wt,2,0,"th",26),t.YNc(90,Kt,2,1,"td",27),t.BQk(),t.ynx(91,30),t.YNc(92,te,2,0,"th",26),t.YNc(93,ee,2,1,"td",27),t.BQk(),t.ynx(94,31),t.YNc(95,ae,2,0,"th",26),t.YNc(96,oe,2,1,"td",27),t.BQk(),t.ynx(97,32),t.YNc(98,ne,2,0,"th",26),t.YNc(99,re,4,0,"td",33),t.BQk(),t.YNc(100,ie,1,0,"tr",34),t.YNc(101,se,1,0,"tr",35),t.qZA()(),t._UZ(102,"div")),2&e){let r,i,c,f;t.xp6(4),t.Q6J("disabled",o.validateSubmit()),t.xp6(7),t.Q6J("formGroup",o.manageOrderForm),t.xp6(7),t.Q6J("ngIf",(null==(r=o.manageOrderForm.get("name"))?null:r.touched)&&(null==(r=o.manageOrderForm.get("name"))?null:r.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(i=o.manageOrderForm.get("email"))?null:i.touched)&&(null==(i=o.manageOrderForm.get("email"))?null:i.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(c=o.manageOrderForm.get("contactNumber"))?null:c.touched)&&(null==(c=o.manageOrderForm.get("contactNumber"))?null:c.invalid)),t.xp6(11),t.Q6J("ngIf",(null==(f=o.manageOrderForm.get("paymentMethod"))?null:f.touched)&&(null==(f=o.manageOrderForm.get("paymentMethod"))?null:f.invalid)),t.xp6(6),t.Q6J("formGroup",o.manageOrderForm),t.xp6(7),t.Q6J("ngForOf",o.categorys),t.xp6(5),t.Q6J("ngForOf",o.products),t.xp6(5),t.Q6J("ngIf",o.manageOrderForm.controls.price.touched&&o.manageOrderForm.controls.price.invalid),t.xp6(6),t.Q6J("ngIf",o.manageOrderForm.controls.quantity.touched&&o.manageOrderForm.controls.quantity.invalid),t.xp6(5),t.Q6J("ngIf",o.manageOrderForm.controls.total.touched&&o.manageOrderForm.controls.total.invalid),t.xp6(2),t.Q6J("disabled",o.validateProductAdd()),t.xp6(4),t.hij(" Total Amount: ",o.totalAmount,""),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0)}},directives:[M.a8,x.lW,m._Y,m.JL,m.sg,w.yH,w.xw,h.KE,h.hX,Z.Nt,m.Fj,m.JJ,m.u,m.Q7,T.O5,h.TO,I.gD,J.ey,T.sg,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,N.gM,D.Hw,s.as,s.XQ,s.nj,s.Gk],styles:["mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding-bottom:30px!important}table[_ngcontent-%COMP%]{width:100%}"]}),a})();function le(a,n){if(1&a&&(t.TgZ(0,"table",11)(1,"tr")(2,"td")(3,"b"),t._uU(4,"Name: "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"b"),t._uU(8,"Email: "),t.qZA(),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td")(12,"b"),t._uU(13,"Contact Number: "),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"b"),t._uU(17,"Payment Method: "),t.qZA(),t._uU(18),t.qZA()()()),2&a){const e=t.oxw();t.xp6(5),t.Oqu(e.data.name||"N/A"),t.xp6(4),t.Oqu(e.data.email||"N/A"),t.xp6(5),t.Oqu(e.data.contactNumber||"N/A"),t.xp6(4),t.Oqu(e.data.paymentMethod||"N/A")}}function me(a,n){1&a&&(t.TgZ(0,"div",12),t._uU(1," No product details available "),t.qZA())}function de(a,n){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Name"),t.qZA())}function ue(a,n){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function pe(a,n){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Category"),t.qZA())}function ge(a,n){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.category)}}function _e(a,n){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Price"),t.qZA())}function he(a,n){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.formatPrice(e.price))}}function fe(a,n){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Quantity"),t.qZA())}function ve(a,n){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.quantity)}}function Ce(a,n){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Total"),t.qZA())}function ye(a,n){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.formatPrice(e.total))}}function Ze(a,n){1&a&&t._UZ(0,"tr",25)}function be(a,n){1&a&&t._UZ(0,"tr",26)}function Te(a,n){if(1&a&&(t.TgZ(0,"table",13),t.ynx(1,14),t.YNc(2,de,2,0,"th",15),t.YNc(3,ue,2,1,"td",16),t.BQk(),t.ynx(4,17),t.YNc(5,pe,2,0,"th",15),t.YNc(6,ge,2,1,"td",16),t.BQk(),t.ynx(7,18),t.YNc(8,_e,2,0,"th",15),t.YNc(9,he,2,1,"td",16),t.BQk(),t.ynx(10,19),t.YNc(11,fe,2,0,"th",15),t.YNc(12,ve,2,1,"td",16),t.BQk(),t.ynx(13,20),t.YNc(14,Ce,2,0,"th",15),t.YNc(15,ye,2,1,"td",16),t.BQk(),t.YNc(16,Ze,1,0,"tr",21),t.YNc(17,be,1,0,"tr",22),t.qZA()),2&a){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function xe(a,n){if(1&a&&(t.TgZ(0,"div",27)(1,"h3"),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij("Total Amount: ",e.formatPrice(e.getTotalAmount()),"")}}let we=(()=>{class a{constructor(e,o,r){this.dialogData=e,this.dialogRef=o,this.snackbarService=r,this.displayedColumns=["name","category","price","quantity","total"],this.dataSource=[]}ngOnInit(){try{if(this.data=this.dialogData.data,console.log("Dialog Data:",this.data),!this.data||!this.data.productDetails)throw new Error("No product details found");if("string"==typeof this.data.productDetails)this.dataSource=JSON.parse(this.data.productDetails);else{if(!Array.isArray(this.data.productDetails))throw new Error("Invalid product details format");this.dataSource=this.data.productDetails}console.log("Parsed Product Details:",this.dataSource)}catch(e){console.error("Error processing product details:",e),this.snackbarService.openSnackbar("Error loading product details","error"),this.dataSource=[]}}getTotalAmount(){return this.dataSource.reduce((e,o)=>e+(parseFloat(o.total)||0),0)}hasData(){return Array.isArray(this.dataSource)&&this.dataSource.length>0}formatPrice(e){return`\u20b9${parseFloat(e).toFixed(2)}`}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(_.WI),t.Y36(_.so),t.Y36(u.o))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-bill-products"]],decls:14,vars:4,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],["id","customers",4,"ngIf"],[1,"responsive_table"],["class","no-data-message",4,"ngIf"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","total-section",4,"ngIf"],["id","customers"],[1,"no-data-message"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"total-section"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3,"View Bill"),t.qZA(),t._UZ(4,"span",3),t.TgZ(5,"button",4)(6,"mat-icon"),t._uU(7,"cancel"),t.qZA()()()(),t.TgZ(8,"mat-dialog-content",5),t.YNc(9,le,19,4,"table",6),t.TgZ(10,"div",7),t.YNc(11,me,2,0,"div",8),t.YNc(12,Te,18,3,"table",9),t.YNc(13,xe,3,1,"div",10),t.qZA()()),2&e&&(t.xp6(9),t.Q6J("ngIf",o.data),t.xp6(2),t.Q6J("ngIf",!o.hasData()),t.xp6(1),t.Q6J("ngIf",o.hasData()),t.xp6(1),t.Q6J("ngIf",o.hasData()))},directives:[C.Ye,C.rD,w.xw,x.lW,_.ZT,D.Hw,_.xY,T.O5,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}.title-center[_ngcontent-%COMP%]{text-align:center;font-weight:700}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}#customers[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;border-collapse:collapse}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd}.responsive_table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:auto}.responsive_table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;background:white;box-shadow:0 2px 4px #0000001a}.responsive_table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-weight:700;color:#000;background-color:#f5f5f5}.responsive_table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .responsive_table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{padding:12px;text-align:left}.no-data-message[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666;font-style:italic}.total-section[_ngcontent-%COMP%]{margin-top:20px;text-align:right;padding:15px;background-color:#f5f5f5;border-radius:4px}.total-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.mat-dialog-close[_ngcontent-%COMP%]{color:#fff}"]}),a})();function Ae(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function Se(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function Me(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Email"),t.qZA())}function qe(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.email)}}function ke(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Contact Number"),t.qZA())}function Oe(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.contactNumber)}}function Ne(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Payment Method"),t.qZA())}function De(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.paymentMethod)}}function Ue(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Total"),t.qZA())}function Pe(a,n){if(1&a&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.total)}}function Ye(a,n){1&a&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function Fe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleViewAction(i)}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().downloadReportAction(i)}),t.TgZ(5,"mat-icon"),t._uU(6,"summarize"),t.qZA()(),t.TgZ(7,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().handleDeleteAction(i)}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}}function Qe(a,n){1&a&&t._UZ(0,"tr",22)}function Be(a,n){1&a&&t._UZ(0,"tr",23)}let Re=(()=>{class a{constructor(e,o,r,i,c){this.billServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","view"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.billServices.getBills().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}handleViewAction(e){const o=new _.vA;o.data={data:e},o.width="850px";const r=this.dialog.open(we,o);this.router.events.subscribe(()=>{r.close()})}downloadReportAction(e){this.ngxServices.start(),this.billServices.getPdf({name:e.name,email:e.email,uuid:e.uuid,contactNumber:e.contactNumber,paymentMethod:e.paymentMethod,totalAmount:e.totalAmount,productDetails:e.productDetails}).subscribe(r=>{(0,H.saveAs)(r,e.uuid+".pdf"),this.ngxServices.stop()})}handleDeleteAction(e){const o=new _.vA;o.data={message:"delete"+e.name+"bill"};const r=this.dialog.open(F.S,o);r.componentInstance.onEmitStatuschange.subscribe(c=>{this.ngxServices.start(),this.deleteProduct(e.id),r.close()})}deleteProduct(e){this.billServices.delete(e).subscribe(o=>{this.ngxServices.stop(),this.tableData(),this.responseMessage=null==o?void 0:o.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},o=>{var r,i;this.ngxServices.stop(),this.responseMessage=(null===(r=o.error)||void 0===r?void 0:r.message)?null===(i=o.error)||void 0===i?void 0:i.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36($),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-bill"]],decls:34,vars:5,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","View",3,"click"],["mat-icon-button","","color","primary","matTooltip","download",3,"click"],["mat-icon-button","","color","primary","matTooltip","delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"view Bill"),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,Ae,2,0,"th",6),t.YNc(16,Se,2,1,"td",7),t.BQk(),t.ynx(17,8),t.YNc(18,Me,2,0,"th",6),t.YNc(19,qe,2,1,"td",7),t.BQk(),t.ynx(20,9),t.YNc(21,ke,2,0,"th",6),t.YNc(22,Oe,2,1,"td",7),t.BQk(),t.ynx(23,10),t.YNc(24,Ne,2,0,"th",6),t.YNc(25,De,2,1,"td",7),t.BQk(),t.ynx(26,11),t.YNc(27,Ue,2,0,"th",6),t.YNc(28,Pe,2,1,"td",7),t.BQk(),t.ynx(29,12),t.YNc(30,Ye,2,0,"th",6),t.YNc(31,Fe,10,0,"td",13),t.BQk(),t.YNc(32,Qe,1,0,"tr",14),t.YNc(33,Be,1,0,"tr",15),t.qZA()()),2&e&&(t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,x.lW,N.gM,D.Hw,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})();var Ie=d(3071);function Je(a,n){1&a&&(t.TgZ(0,"th",14),t._uU(1,"Name"),t.qZA())}function Ee(a,n){if(1&a&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function Ve(a,n){1&a&&(t.TgZ(0,"th",14),t._uU(1,"Email"),t.qZA())}function He(a,n){if(1&a&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.email)}}function $e(a,n){1&a&&(t.TgZ(0,"th",14),t._uU(1,"Contact Number "),t.qZA())}function Le(a,n){if(1&a&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.contactNumber)}}function je(a,n){1&a&&(t.TgZ(0,"th",14),t._uU(1,"Action"),t.qZA())}function Xe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",16)(1,"mat-slide-toggle",17),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().handleChangeAction(r.checked,c.id)}),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("checked",e.status)}}function Ge(a,n){1&a&&t._UZ(0,"tr",18)}function ze(a,n){1&a&&t._UZ(0,"tr",19)}let We=(()=>{class a{constructor(e,o,r,i,c){this.userServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.userServices.getUser().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}handleChangeAction(e,o){var r={status:e.toString(),id:o};this.userServices.update(r).subscribe(i=>{this.ngxServices.stop(),this.responseMessage=null==i?void 0:i.message,this.snackbarServices.openSnackbar(this.responseMessage,"success")},i=>{var c,f;this.ngxServices.stop(),this.responseMessage=(null===(c=i.error)||void 0===c?void 0:c.message)?null===(f=i.error)||void 0===f?void 0:f.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Ie.K),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-user"]],decls:28,vars:5,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["matTooltip","Activate or Deactivate user",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage User"),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,Je,2,0,"th",6),t.YNc(16,Ee,2,1,"td",7),t.BQk(),t.ynx(17,8),t.YNc(18,Ve,2,0,"th",6),t.YNc(19,He,2,1,"td",7),t.BQk(),t.ynx(20,9),t.YNc(21,$e,2,0,"th",6),t.YNc(22,Le,2,1,"td",7),t.BQk(),t.ynx(23,10),t.YNc(24,je,2,0,"th",6),t.YNc(25,Xe,2,1,"td",11),t.BQk(),t.YNc(26,Ge,1,0,"tr",12),t.YNc(27,ze,1,0,"tr",13),t.qZA()()),2&e&&(t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,V.Rr,N.gM,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})();function Ke(a,n){1&a&&(t.TgZ(0,"th",10),t._uU(1,"Name"),t.qZA())}function ta(a,n){if(1&a&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function ea(a,n){1&a&&t._UZ(0,"tr",12)}function aa(a,n){1&a&&t._UZ(0,"tr",13)}function na(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Name"),t.qZA())}function ra(a,n){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function ia(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Category Name"),t.qZA())}function sa(a,n){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.categoryName)}}function ca(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Description"),t.qZA())}function la(a,n){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.description)}}function ma(a,n){1&a&&(t.TgZ(0,"th",13),t._uU(1,"Price"),t.qZA())}function da(a,n){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function ua(a,n){1&a&&t._UZ(0,"tr",15)}function pa(a,n){1&a&&t._UZ(0,"tr",16)}const _a=[{path:"Category",component:tt,canActivate:[q.G],data:{expectedRole:["admin"]}},{path:"Product",component:Tt,canActivate:[q.G],data:{expectedRole:["admin"]}},{path:"order",component:ce,canActivate:[q.G],data:{expectedRole:["admin","user"]}},{path:"bill",component:Re,canActivate:[q.G],data:{expectedRole:["admin","user"]}},{path:"view-category",component:(()=>{class a{constructor(e,o,r,i,c){this.categoryServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.categoryServices.getCategory().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-category"]],decls:19,vars:5,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"View Category "),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,Ke,2,0,"th",6),t.YNc(16,ta,2,1,"td",7),t.BQk(),t.YNc(17,ea,1,0,"tr",8),t.YNc(18,aa,1,0,"tr",9),t.qZA()()),2&e&&(t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})(),canActivate:[q.G],data:{expectedRole:["admin","user"]}},{path:"view-product",component:(()=>{class a{constructor(e,o,r,i,c){this.productServices=e,this.ngxServices=o,this.dialog=r,this.snackbarServices=i,this.router=c,this.displayedColumns=["name","categoryName","description","price"]}ngOnInit(){this.ngxServices.start(),this.tableData()}tableData(){this.productServices.getProducts().subscribe(e=>{this.ngxServices.stop(),this.dataSource=new s.by(e)},e=>{var o,r;this.ngxServices.stop(),this.responseMessage=(null===(o=e.error)||void 0===o?void 0:o.message)?null===(r=e.error)||void 0===r?void 0:r.message:l.t.genericError,this.snackbarServices.openSnackbar(this.responseMessage,l.t.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(P),t.Y36(v.LA),t.Y36(_.uw),t.Y36(u.o),t.Y36(b.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-product"]],decls:28,vars:5,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"View Product "),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(i){return o.applyFilter(i)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,na,2,0,"th",6),t.YNc(16,ra,2,1,"td",7),t.BQk(),t.ynx(17,8),t.YNc(18,ia,2,0,"th",6),t.YNc(19,sa,2,1,"td",7),t.BQk(),t.ynx(20,9),t.YNc(21,ca,2,0,"th",6),t.YNc(22,la,2,1,"td",7),t.BQk(),t.ynx(23,10),t.YNc(24,ma,2,0,"th",6),t.YNc(25,da,2,1,"td",7),t.BQk(),t.YNc(26,ua,1,0,"tr",11),t.YNc(27,pa,1,0,"tr",12),t.qZA()()),2&e&&(t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)("matRowDefSticky",!0))},directives:[M.a8,h.KE,h.hX,Z.Nt,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),a})(),canActivate:[q.G],data:{expectedRole:["admin","user"]}},{path:"user",component:We,canActivate:[q.G],data:{expectedRole:["admin"]}}];var ha=d(7105);let fa=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[],imports:[[T.ez,b.Bz.forChild(_a),ha.q,y.JF,m.u5,m.UX,k.o9,A.HT]]}),a})()},9441:function(Y,U){var y;void 0!==(y=function(){"use strict";function A(p,g,v){var u=new XMLHttpRequest;u.open("GET",p),u.responseType="blob",u.onload=function(){l(u.response,g,v)},u.onerror=function(){console.error("could not download file")},u.send()}function m(p){var g=new XMLHttpRequest;g.open("HEAD",p,!1);try{g.send()}catch(v){}return 200<=g.status&&299>=g.status}function k(p){try{p.dispatchEvent(new MouseEvent("click"))}catch(v){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(g)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,_=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!_?function(p,g,v){var u=t.URL||t.webkitURL,C=document.createElement("a");C.download=g=g||p.name||"download",C.rel="noopener","string"==typeof p?(C.href=p,C.origin===location.origin?k(C):m(C.href)?A(p,g,v):k(C,C.target="_blank")):(C.href=u.createObjectURL(p),setTimeout(function(){u.revokeObjectURL(C.href)},4e4),setTimeout(function(){k(C)},0))}:"msSaveOrOpenBlob"in navigator?function(p,g,v){if(g=g||p.name||"download","string"!=typeof p)navigator.msSaveOrOpenBlob(function T(p,g){return void 0===g?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p}(p,v),g);else if(m(p))A(p,g,v);else{var u=document.createElement("a");u.href=p,u.target="_blank",setTimeout(function(){k(u)})}}:function(p,g,v,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof p)return A(p,g,v);var C="application/octet-stream"===p.type,w=/constructor/i.test(t.HTMLElement)||t.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||C&&w||_)&&"undefined"!=typeof FileReader){var Z=new FileReader;Z.onloadend=function(){var S=Z.result;S=h?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=S:location=S,u=null},Z.readAsDataURL(p)}else{var x=t.URL||t.webkitURL,O=x.createObjectURL(p);u?u.location=O:location.href=O,u=null,setTimeout(function(){x.revokeObjectURL(O)},4e4)}});t.saveAs=l.saveAs=l,Y.exports=l}.apply(U,[]))&&(Y.exports=y)}}]);